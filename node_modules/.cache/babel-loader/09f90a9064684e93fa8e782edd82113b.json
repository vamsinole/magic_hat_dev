{"ast":null,"code":"import _slicedToArray from \"/Users/vamshikrishnaenjapuri/magic_hat_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useState } from 'react';\nexport function useLocalStorage(key, defaultState) {\n  var _useState = useState(function () {\n    if (typeof localStorage === 'undefined') return defaultState;\n    var value = localStorage.getItem(key);\n\n    try {\n      return value ? JSON.parse(value) : defaultState;\n    } catch (error) {\n      console.warn(error);\n      return defaultState;\n    }\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var setLocalStorage = useCallback(function (newValue) {\n    if (newValue === value) return;\n    setValue(newValue);\n\n    if (newValue === null) {\n      localStorage.removeItem(key);\n    } else {\n      try {\n        localStorage.setItem(key, JSON.stringify(newValue));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, [value, setValue, key]);\n  return [value, setLocalStorage];\n}","map":{"version":3,"mappings":";AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAEA,OAAM,SAAUC,eAAV,CAA6BC,GAA7B,EAA0CC,YAA1C,EAAyD;EAC3D,gBAA0BH,QAAQ,CAAI,YAAK;IACvC,IAAI,OAAOI,YAAP,KAAwB,WAA5B,EAAyC,OAAOD,YAAP;IAEzC,IAAME,KAAK,GAAGD,YAAY,CAACE,OAAb,CAAqBJ,GAArB,CAAd;;IACA,IAAI;MACA,OAAOG,KAAK,GAAIE,IAAI,CAACC,KAAL,CAAWH,KAAX,CAAJ,GAA8BF,YAA1C;IACH,CAFD,CAEE,OAAOM,KAAP,EAAc;MACZC,OAAO,CAACC,IAAR,CAAaF,KAAb;MACA,OAAON,YAAP;IACH;EACJ,CAViC,CAAlC;EAAA;EAAA,IAAOE,KAAP;EAAA,IAAcO,QAAd;;EAYA,IAAMC,eAAe,GAAGd,WAAW,CAC/B,UAACe,QAAD,EAAgB;IACZ,IAAIA,QAAQ,KAAKT,KAAjB,EAAwB;IACxBO,QAAQ,CAACE,QAAD,CAAR;;IAEA,IAAIA,QAAQ,KAAK,IAAjB,EAAuB;MACnBV,YAAY,CAACW,UAAb,CAAwBb,GAAxB;IACH,CAFD,MAEO;MACH,IAAI;QACAE,YAAY,CAACY,OAAb,CAAqBd,GAArB,EAA0BK,IAAI,CAACU,SAAL,CAAeH,QAAf,CAA1B;MACH,CAFD,CAEE,OAAOL,KAAP,EAAc;QACZC,OAAO,CAACD,KAAR,CAAcA,KAAd;MACH;IACJ;EACJ,CAd8B,EAe/B,CAACJ,KAAD,EAAQO,QAAR,EAAkBV,GAAlB,CAf+B,CAAnC;EAkBA,OAAO,CAACG,KAAD,EAAQQ,eAAR,CAAP;AACH","names":["useCallback","useState","useLocalStorage","key","defaultState","localStorage","value","getItem","JSON","parse","error","console","warn","setValue","setLocalStorage","newValue","removeItem","setItem","stringify"],"sourceRoot":"","sources":["../src/useLocalStorage.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}