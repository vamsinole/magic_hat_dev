{"ast":null,"code":"import _classCallCheck from \"/Users/vamshikrishnaenjapuri/magic_hat_ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vamshikrishnaenjapuri/magic_hat_ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { IdlCoder } from \"./idl\";\n/**\n * Encodes and decodes user defined types.\n */\n\nexport var TypesCoder = /*#__PURE__*/function () {\n  function TypesCoder(idl) {\n    _classCallCheck(this, TypesCoder);\n\n    if (idl.types === undefined) {\n      this.layouts = new Map();\n      return;\n    }\n\n    var layouts = idl.types.map(function (acc) {\n      return [acc.name, IdlCoder.typeDefLayout(acc, idl.types)];\n    }); // @ts-ignore\n\n    this.layouts = new Map(layouts);\n  }\n\n  _createClass(TypesCoder, [{\n    key: \"encode\",\n    value: function encode(accountName, account) {\n      var buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n\n      var layout = this.layouts.get(accountName);\n      var len = layout.encode(account, buffer);\n      return buffer.slice(0, len);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(accountName, ix) {\n      var layout = this.layouts.get(accountName);\n      return layout.decode(ix);\n    }\n  }]);\n\n  return TypesCoder;\n}();","map":{"version":3,"mappings":";;AAEA,SAASA,QAAT,QAAyB,OAAzB;AAEA;;;;AAGA,WAAaC,UAAb;EAME,oBAAmBC,GAAnB,EAA2B;IAAA;;IACzB,IAAIA,GAAG,CAACC,KAAJ,KAAcC,SAAlB,EAA6B;MAC3B,KAAKC,OAAL,GAAe,IAAIC,GAAJ,EAAf;MACA;IACD;;IACD,IAAMD,OAAO,GAAGH,GAAG,CAACC,KAAJ,CAAUI,GAAV,CAAc,UAACC,GAAD,EAAQ;MACpC,OAAO,CAACA,GAAG,CAACC,IAAL,EAAWT,QAAQ,CAACU,aAAT,CAAuBF,GAAvB,EAA4BN,GAAG,CAACC,KAAhC,CAAX,CAAP;IACD,CAFe,CAAhB,CALyB,CASzB;;IACA,KAAKE,OAAL,GAAe,IAAIC,GAAJ,CAAQD,OAAR,CAAf;EACD;;EAjBH;IAAA;IAAA,OAmBS,gBAAgBM,WAAhB,EAAqCC,OAArC,EAA+C;MACpD,IAAMC,MAAM,GAAGC,MAAM,CAACC,KAAP,CAAa,IAAb,CAAf,CADoD,CACjB;;MACnC,IAAMC,MAAM,GAAG,KAAKX,OAAL,CAAaY,GAAb,CAAiBN,WAAjB,CAAf;MACA,IAAMO,GAAG,GAAGF,MAAM,CAACG,MAAP,CAAcP,OAAd,EAAuBC,MAAvB,CAAZ;MACA,OAAOA,MAAM,CAACO,KAAP,CAAa,CAAb,EAAgBF,GAAhB,CAAP;IACD;EAxBH;IAAA;IAAA,OA0BS,gBAAgBP,WAAhB,EAAqCU,EAArC,EAA+C;MACpD,IAAML,MAAM,GAAG,KAAKX,OAAL,CAAaY,GAAb,CAAiBN,WAAjB,CAAf;MACA,OAAOK,MAAM,CAACM,MAAP,CAAcD,EAAd,CAAP;IACD;EA7BH;;EAAA;AAAA","names":["IdlCoder","TypesCoder","idl","types","undefined","layouts","Map","map","acc","name","typeDefLayout","accountName","account","buffer","Buffer","alloc","layout","get","len","encode","slice","ix","decode"],"sourceRoot":"","sources":["../../../src/coder/types.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}